###Function###
DllStructCreate
###Description###
创建一个 C/C++ 样式的数据结构供 DllCall 使用.

###Syntax###
DllStructCreate ( "数据结构" [,指针] )


###Parameters###
@@ParamTable@@
"数据结构"
	字符串表示的要创建的数据结构.(见 注释)..
指针
	[可选参数] If supplied the struct will not allocate memory but use the pointer supplied.
@@End@@

###ReturnValue###
@@ReturnTable@@
成功: 	返回一个供 DllStruct 调用的变量. 
失败: 	0 .
@Error:	0 = 没有错误. 
	 1 = 传递给 DllStructCreate 的变量不是字符串. 
	 2 = 传递的字符串中有一个未知的数据类型. 
	 3 = 为数据结构分配需要的内存失败, 或者指针 = 0. 
	 4 = 为传递的字串分配内存错误.
@@End@@

<br>
@@ParamTable@@
<b>类型</b>
	<b>详细信息</b>
BYTE
	8bit(1字节) 带符号字符(signed char)
BOOLEAN
	8bit(1字节) 无符号字符(unsigned char)
CHAR
	8bit(1字节) ASCII 字符(ASCII char)
WCHAR
	16bit(2字节) UNICODE 宽字符(Wide char)
short
	16bit(2字节) 带符号整数(signed integer)
USHORT
	16bit(2字节) 无符号整数(unsigned integer)
WORD
	16bit(2字节) 无符号整数(unsigned integer)
int
	32bit(4字节) 带符号整数(signed integer)
long
	32bit(4字节) 带符号整数(signed integer)
BOOL
	32bit(4字节) 带符号整数(signed integer)
UINT
	32bit(4字节) 无符号整数(unsigned integer)
ULONG
	32bit(4字节) 无符号整数(unsigned integer)
DWORD
	32bit(4字节) 无符号整数(unsigned integer)
INT64
	64bit(8字节) 带符号整数(signed integer)
UINT64
	64bit(8字节) 无符号整数(unsigned integer)
ptr
	32/64位 无符号整数(unsigned integer) (依据使用的 x86 或 x64 AutoIt 的版本)
HWND
	32bit(4字节) 整数(integer)
HANDLE
	32bit(4字节) 整数(integer)
float
	32bit(4字节) 浮点指针(floating point)
double
	64bit(8字节) 浮点指针(floating point)
INT_PTR, LONG_PTR, LRESULT, LPARAM
	32/64位 带符号整数(signed integer) (依据使用的 x86 或 x64 AutoIt 的版本)
UINT_PTR, ULONG_PTR, DWORD_PTR, WPARAM
	32/64位 无符号整数(unsigned integer) (依据使用的 x86 或 x64 AutoIt 的版本)
@@End@@


###Remarks###
Each data type must be separated by a semi-colon ';'.

Create arrays by adding '[size]' after the data type: DllStructCreate("int;char[128]")

An elementname can be added similar to a C-style declaration: DllStructCreate("int n;char buffer[128]").
This dataname can be used in place of the element in other DllStruct... functions.  The dataname must be alphanumeric or an underscore.

To use a different alignment prefix the structure with the align keyword.  The default value for n is 8. Valid values are 1, 2, 4, 8, and 16.  The alignment of a member will be on a boundary that is either a multiple of n or a multiple of the size of the member, <b>whichever is smaller</b>.  This is equivalent to the #pragma pack option with the Microsoft Visual C++ compiler.

DllStructCreate("short;int")     ; structure is 8 bytes, the "int" is at offset 4
DllStructCreate("align 2;short;int")     ; structure is 6 bytes, the "int" is at offset 2

DllStructCreate("byte;double")     ; structure is 16 bytes, the "double" is at offset 8
DllStructCreate("align 4;byte;double")     ; structure is 12 bytes, the "double" is at offset 4

If a change of alignment is needed "align" can be use before the first element which need to be changed.
"align" or "align 8" leads to default alignment.

要释放分配的内存,只需将返回的变量设置为 0.


###Related###
DllCall, DllStructGetData, DllStructSetData, DllStructGetPtr, DllStructGetSize, IsDllStruct


###Example###
@@IncludeExample@@
